<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript">
    // 单例模式:保证一个类仅有一个实例，并提供一个访问它的全局访问点
    // 使用场景:当某些对象只需要一个的时候，如线程池、全局缓存、window等
    // 使用举例:如登录页，点击按钮生成登录框，这个登录框只会生成一次，不会每次点击都生成一个
    var Singleton = function(name) {
        this.name = name;
        this.instance = null;
    };
    Singleton.prototype.getName = function() {
        alert(this.name);
    };
    Singleton.getInstance = function(name) {
        if (!this.instance) {
            this.instance = new Singleton(name);
        }
        return this.instance;
    };
    var a = Singleton.getInstance("AAA");
    var b = Singleton.getInstance("BBB");
    console.log(a === b); //true
    // 此种方法通过getInstance来获取实例，和正常的new不一样，用户必须知道这是个单例模式，也就是用户必须知道是通过getInstance方法来获取实例而不是new方式，所就这种方式对用户来说"不透明"
    </script>
</body>

</html>
